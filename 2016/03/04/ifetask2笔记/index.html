<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>百度IFE前端春季班TASK2笔记 | Arctic/Zoo</title>
  <meta name="description" content="" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="/css/component.css" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <meta name="generator" content="Arctic/Zoo">
  <script src="http://static.duoshuo.com/embed.js"></script>
  
  
  

  

</head>
<body>
<div class="container">
    <div class="mp-pusher" id="mp-pusher">
        <i id="scroll-up" class="fa fa-angle-up"></i>
        <nav id="mp-menu" class="mp-menu">
            <div class="mp-level">
                <a data-pjax class="back-home" style="font-size: 20px" href="/"><h2 ><i class="fa fa-home"></i>
                        Home</h2></a>
                <ul class="first-level">
                    <li>
                        <a class="fa fa-archive" href="#"><i class="fa fa-angle-left">
                            </i>&nbsp;&nbsp;Archive</a>
                        <div class="mp-level page-list">
                            <h2 ><i class="fa fa-archive"></i>
                                Archive</h2>
                            <a class="mp-back" href="#">back</a>
                            <form id="search-form" action="">
                                <input type="text" class="search search-archive" placeholder="Search.."/>
                            </form>
                            <ul>
                                <div class="mp-scroll">
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2016/03/19/JavaScript-OOP-理解笔记/">JavaScript-OOP相关-笔记</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2016/03/15/2016ife笔记/">百度2016IFE笔记</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2016/03/08/移动端HTML5页面笔记/">移动端HTML5页面笔记</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2016/03/04/ifetask2笔记/">百度IFE前端春季班TASK2笔记</a>
                                </li>
                                
                                <li class="search-archive-li mp-pjax">
                                    <a href="/2016/02/26/about-me/">About Me</a>
                                </li>
                                
                                </div>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a class="fa fa-copy" href="#"><i class="fa fa-angle-left">
                            </i>&nbsp;&nbsp;Categories</a>

                        <div class="mp-level page-list">
                            <h2 ><i class="fa fa-copy"></i>
                                Categories</h2>
                            <a class="mp-back" href="#">back</a>
                            <form id="search-form" action="">
                                <input type="text" class="search search-category" placeholder="Search.."/>
                            </form>
                            <ul>
                                <div class="mp-scroll">
                                
                                </div>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a class="fa fa-tags" href="#"><i class="fa fa-angle-left">
                            </i>&nbsp;&nbsp;Tags</a>
                        <div class="mp-level page-list">
                            <h2 ><i class="fa fa-tags"></i>
                                Tags</h2>
                            <a class="mp-back" href="#">back</a>
                            <form id="search-form" action="">
                                <input type="text" class="search search-tag" placeholder="Search.."/>
                            </form>
                            <ul>
                                <div class="mp-scroll">
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/JavaScript/">&nbsp;&nbsp;&nbsp;JavaScript</a>
                                    <small>4</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/css/">&nbsp;&nbsp;&nbsp;css</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/前端/">&nbsp;&nbsp;&nbsp;前端</a>
                                    <small>4</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/移动端/">&nbsp;&nbsp;&nbsp;移动端</a>
                                    <small>1</small>
                                </li>
                                
                                <li class="search-tag-li mp-pjax">
                                    <a href="/tags/笔记/">&nbsp;&nbsp;&nbsp;笔记</a>
                                    <small>4</small>
                                </li>
                                
                                </div>
                            </ul>
                        </div>
                    </li>
                    
                    <li><a class="fa fa-user" href="http://arcticzoo.github.io/2016/02/26/about-me/">&nbsp;&nbsp;&nbsp;About me</a></li>
                    <li><a class="fa fa-github" href="https://github.com/ArcticZoo">&nbsp;&nbsp;&nbsp;Github</a></li>

                </ul>

            </div>
        </nav>
        <div id="pjax">
            <div class="pjax-hidden" style="display: none">
                
                    <a  data-pjax href="/2016/03/19/JavaScript-OOP-理解笔记/">JavaScript-OOP相关-笔记</a>
                
                    <a  data-pjax href="/2016/03/15/2016ife笔记/">百度2016IFE笔记</a>
                
                    <a  data-pjax href="/2016/03/08/移动端HTML5页面笔记/">移动端HTML5页面笔记</a>
                
                    <a  data-pjax href="/2016/03/04/ifetask2笔记/">百度IFE前端春季班TASK2笔记</a>
                
                    <a  data-pjax href="/2016/02/26/about-me/">About Me</a>
                
                
                
                    <a data-pjax href="/tags/JavaScript/">&nbsp;&nbsp;JavaScript</a>
                
                    <a data-pjax href="/tags/css/">&nbsp;&nbsp;css</a>
                
                    <a data-pjax href="/tags/前端/">&nbsp;&nbsp;前端</a>
                
                    <a data-pjax href="/tags/移动端/">&nbsp;&nbsp;移动端</a>
                
                    <a data-pjax href="/tags/笔记/">&nbsp;&nbsp;笔记</a>
                
                <a data-pjax class="fa fa-user" href="/about">&nbsp;&nbsp;&nbsp;About me</a>
            </div>
            <nav class="nexus">
                <li  style="border-left: 1px solid #c6d0da;">
                    <a id="trigger" href="#"><i class="fa fa-bars"></i></a>
                </li>
                <li ><a id="nexus-back" data-pjax href="/">Arctic/Zoo</a></li>
                
                <div id="nav-container">
                    <div class="post-navbar" style="line-height: 63px;display:none">
                        <li id="navbar-title"><a href="#">百度IFE前端春季班TASK2笔记</a></li>
                        <li id="navbar-toc" style="border-left: none">
                            <a style="padding-right: 15px">
                                <span id="toc-content" >Introduction</span><i class="fa fa-chevron-down" ></i>
                            </a>
                            <div class="hidden-box">
                                <ul id="toc"></ul>
                            </div>
                        </li>
                    </div>
                </div>
                
            </nav>

            <div class="scroller">
            <div class="scroller-inner">


<!-- -->
<!--<body class="post-template">-->
<!---->
  

<main class="content" role="main">
    <article class="post" >
    <span class="post-meta">
                  <div class="tag-tile">
                      
                      
                      <a data-pjax href='/tags/JavaScript/' style='color:#D5D5D5'>JavaScript</a>
                      
                      <a data-pjax href='/tags/前端/' style='color:#D5D5D5'>前端</a>
                      
                      <a data-pjax href='/tags/笔记/' style='color:#D5D5D5'>笔记</a>
                      
                      
                  </div>
                <h1 class="post-title" style="margin: 14px 0;color:#50585D">百度IFE前端春季班TASK2笔记</h1>

                    <div class="post-meta">
                        Post on<span class="fa fa-clock-o"></span>
                        <time datetime="2016-03-03T16:21:57.000Z"
                              itemprop="datePublished">2016-03-04</time>
                    </div>
    </span>

        <section class="post-content">
            <h2 id="TASK-2-1"><a href="#TASK-2-1" class="headerlink" title="TASK 2-1"></a>TASK 2-1</h2><p>要求：输入框中用来输入兴趣爱好，允许用户用换行、空格（全角/半角）、逗号（全角/半角）、顿号、分号来作为不同爱好的分隔。用户输入的爱好数量不能超过10个，也不能什么都不输入。当发生异常时，在按钮上方显示一段红色的错误提示文字，并且不继续执行后面的行为；当输入正确时，提示文字消失。同时，当点击按钮时，每一个爱好输出成为一个checkbox，爱好内容作为checkbox的label。</p>
<p>学习到的知识点</p>
<ol>
<li>利用正则表达式编写trim()修剪每个数据前面出现的空格<br>var trimer = new RegExp(“(^\s+)|(\s+$)”,”g”)</li>
<li>一种数组去重的思路：仅支持现代浏览器，创建一个数组，将旧的数组的元素传入新的数组，每次传入利用indexOf检查索引，为-1说明里面还没有这个元素，完成传送，否则不传送</li>
<li>dom中style对象对元素的操作</li>
<li>对domReady，dom事件行为，dom事件冒泡，dom事件对象，dom分级等的进一步理解（还是有一部分疑问）<br>5.JavaScript中的split方法，把字符串切割，并存入数组中<br>/\,|\，|\、|\;|\；/</li>
</ol>
<h2 id="TASK-2-2"><a href="#TASK-2-2" class="headerlink" title="TASK 2-2"></a>TASK 2-2</h2><p>要求：界面首先有一个文本输入框，允许按照特定的格式YYYY-MM-DD输入年月日；<br>输入框旁有一个按钮，点击按钮后，计算当前距离输入的日期的00:00:00有多少时间差<br>在页面中显示，距离YYYY年MM月DD日还有XX天XX小时XX分XX秒<br>每一秒钟更新倒计时上显示的数<br>如果时差为0，则倒计时停止</p>
<p>学习到的知识点</p>
<ol>
<li>正则表达式，能力还不够做一个完整的判定年份的正则表达式，所以先是利用[0-9]{4}-([0-9]{2}|[1-9]{1})-([0-9]{2}|[1-9]{1})确定好格式，再用split函数将键入的value转化为年月1日分开存放的形式，再逐一对他们操作（不符合1标准格式的前面加0，不符合月份和日期格式的弹出err）</li>
<li>date对象，利用dateObject.getTime能得到一个以毫秒为单位的值，求差再求除能得出具体的倒计时的日期</li>
<li>setTimeInterval和clearInterval，如若不清除掉setTimeInterval，在新的click操作中旧的函数还是会被执行，引发错误。清除setTimeInterval的方法是给一个变量传window.setTimeInterval，这样这个变量就是setTimeInterval的ID,在clearInteval（）的时候传入这个ID即可清除。</li>
</ol>
<h2 id="TASK2-3"><a href="#TASK2-3" class="headerlink" title="TASK2-3"></a>TASK2-3</h2><p>要求：图片数量及URL均在HTML中写好<br>可以配置轮播的顺序（正序、逆序）、是否循环、间隔时长<br>图片切换的动画要流畅<br>在轮播图下方自动生成对应图片的小点，点击小点，轮播图自动动画切换到对应的图片</p>
<p>学到的知识点</p>
<ol>
<li>轮播图的基本思想。之前用Jquery写过轮播图，大致了解怎么写。这次由于是用原生写，结构稍微有点变化，<br>主要是：这次将显示的函数和控制class变化的函数分开了，显示的函数只负责遍历是否具有指定的class，有就将margin-top值设成这个。<br>2.计时器部分，这一部分遇到了一个可能是新手常遇到的坑，我最开始用setInterval来进行计时，用clearInterval来取消计时，然后再setInterval，这样会有一个BUG就是会多次设置计时器，导致后面的速度会越来越快，这儿使用setTimeout加上它的自调用，避开了这个问题。</li>
<li>这个项目中因为会多次对class进行操作，所以写了hasClass addClass removeClass和getClass等原生实现方法<br>getClass是通过获取TagName再遍历取value值进行比对得到的<br>另外几个是通过获取对象后（通过ID或者其他方法）通过className+=“”+clsName增加的，使用的时候先判定有没有（match（reg））class</li>
<li>开始遇到了个延时的问题，因为showImg函数设置的先后位置不对，导致第一张图片会显示久一些，通过及时刷新showImg解决了这个问题<br>5.关于（function(){}()） 这是一个立即执行的匿名函数 没有函数声明，这种形式在闭包中常用到，和for()连用</li>
</ol>
<h2 id="TASK2-4"><a href="#TASK2-4" class="headerlink" title="TASK2-4"></a>TASK2-4</h2><p>要求：允许使用鼠标点击选中提示栏中的某个选项<br>允许使用键盘上下键来选中提示栏中的某个选项，回车确认选中<br>选中后，提示内容变更到输入框中 输入a b c弹出提示</p>
<p>学到的知识点</p>
<ol>
<li>对于闭包的新认识。几种使用闭包的方法，通过改bug清楚的知道了for循环绑定事件时不使用闭包产生的后果</li>
<li>正则表达式里面可以加入变量 用这个方法结合match来筛选符合结果的数据 (“^”+inpval,”i”)</li>
<li>由于使用的li是后面创建的，所以写在前面的对li进行的事件绑定是无效的，只有等li生成后再绑定事件才有效<br>（后来我发现类似jquery里有on的方法能实现动态绑定）</li>
<li>一些细节 比如使用监听是用的keyup 添加innerHTML用的+= 每次进行输入要清除innerHTML </li>
<li>这次遇到了一个迷之BUG，在循环绑定事件的时候明明用了闭包还是只会返回最后一个。我开始以为是写闭包的姿势不对。看了好久还是解决不了。后来把输出innerHTML的循环和绑定click事件的循环分开写就没有这个问题了…还在思考原因中…</li>
</ol>
<h2 id="TASK2-5"><a href="#TASK2-5" class="headerlink" title="TASK2-5"></a>TASK2-5</h2><p>要求：实现一个可拖拽交互的界面<br>如示例图，左右两侧各有一个容器，里面的选项可以通过拖拽来左右移动<br>被选择拖拽的容器在拖拽过程后，在原容器中消失，跟随鼠标移动<br>注意拖拽释放后，要添加到准确的位置<br>拖拽到什么位置认为是可以添加到新容器的规则自己定<br>注意交互中良好的用户体验和使用引导</p>
<p>这次我写了一个移动端的网页，用了zepto的框架和百度的touch.js库 补了补移动端的重构，屏幕适配方面的知识</p>
<p>学到的知识点</p>
<ol>
<li>移动端的屏幕适配问题。为了统一不同尺寸的效果图，在这次的项目中使用了vh和vw这两个冷门的单位。看网上的很多教程都建议固定根节点的像素值，然后使用ram来适配。同时在JS代码里一开始要获取屏幕的宽度/高度来除以一个固定的值（一般是设计稿的值），然后以这个值为基础设计根节点的像素值。这儿我也使用了类似的思想。<br>var wrapHeight = $(“.wrap”)[0].offsetHeight;<br>var vh = wrapHeight/100; //取得VH的像素值<br>通过这种方法来将JS里的操作都标准化为vh为单位。</li>
<li>写代码的时候为了练习OOP思想。新建了一个dragAll的类，然后再里面建立方法。和拖动有关的函数都作为方法封装在这个类里。</li>
<li>for循环内部如果有批量事件绑定需要用到闭包，又碰到了。</li>
<li>关于zepto的class选择器，要使用[0]之类的才能具体选择到元素（在Jquery里我记到是不需要的）</li>
<li>遇到了关于绝对坐标的问题。试着用offsetTop的属性来求方块的绝对坐标，失败了，原理是这儿操作方块用的是css3里的transform，相当于全程元素的Top和Left是不变的<br>这儿感觉把事情弄复杂了，每次结束拖动后要把transform归零不说，还得刷新方块的Top和Left值。</li>
<li>一个奇怪的Bug，关于Z-index的。我把li的z-index设置为99，ul设置为1。结果还是li被压在下面。事后我删掉ul的zindex反而回复正常了。可能是我哪儿没注意到引起的一个BUG。后来值得一提的是，当被drag的方块，我手动把它的z-index设置到了最高。</li>
<li>一个改了1个小时的BUG。果然改得越久的BUG都是越简单的。<br>用if..else if写了逻辑判断。然而不支持a&lt;b&lt;c这一种判断，后来改为a&lt;b &amp;&amp; b&lt;c就没问题了</li>
<li>开始准备在松开方块的时候直接判断方块的位置，然后改变位置坐标，后来发现太复杂了，可能性太多，写得也乱，所以用的是显示和内容分开的方法。新建了一个存左边盒子和右边盒子的数组，里面按顺序装class的名字。每次dragend先是判断位置，然后将位置写到数组中。然后接着就是根据数组的内容刷新显示就可以了。</li>
</ol>
<p>项目展示：<br>task2-1：<a href="http://arcticzoo.github.io/TASK2/1/index.html" target="_blank" rel="external">http://arcticzoo.github.io/TASK2/1/index.html</a><br>task2-2：<a href="http://arcticzoo.github.io/TASK2/2/index.html" target="_blank" rel="external">http://arcticzoo.github.io/TASK2/2/index.html</a><br>task2-3：<a href="http://arcticzoo.github.io/TASK2/3/index.html" target="_blank" rel="external">http://arcticzoo.github.io/TASK2/3/index.html</a><br>task2-4：<a href="http://arcticzoo.github.io/TASK2/4/index.html" target="_blank" rel="external">http://arcticzoo.github.io/TASK2/4/index.html</a><br>task2-5：</p>
<p>一句题外话 第一次使用hexo编写博客就踩到了一个隐藏的坑，在md文件的诸如tag：等标记后要加一个空格 没有就会莫名报错…可能是格式规定。</p>

        </section>
        <hr/>
        <nav class="pagination" style="width:auto" role="pagination">
            
            <a data-pjax class="newer-posts" href="/2016/03/08/移动端HTML5页面笔记/">← Prev Post</a>
            
            <a class="share-button" data-original-title title>Share this Post</a>
            
            <a data-pjax class="older-posts" href="/2016/02/26/about-me/">Next Post →</a>
            
        </nav>
        <br/>
        <br/>
        <section id="comment">
            <div id="comment-box"></div>
        </section>


    </article>
</main>


  
<footer class="site-footer">
    
    <div class="inner">
        <section class="copyright"><a href="/"></a> &copy; Arctic/Zoo 2016</section>
        <section class="poweredby">Published with <a target="_blank" href="http://hexo.io/">Hexo   </a> and Theme by <a target="_blank" href="https://github.com/yuche/hexo-theme-kael">Kael</a></section>
    </div>
</footer>
</div>
</div><!-- /scroller -->

</div><!-- /pusher -->
</div><!-- /container -->
</div>

<!-- Easter eggs -->

<div class="egg animated">
    <a id="close-button" href="#">X</a>
    <div class="block">
        <div class="loading">
            <span class="ball1"></span>
            <span class="ball2"></span>
        </div>
    </div>
</div>
  
<script src="//cdn.staticfile.org/jquery/1.11.0/jquery.min.js"></script>
<script>
    if (!window.jQuery) {
        var script = document.createElement('script');
        script.src = "/js/jquery.min.js";
        document.body.appendChild(script);
    }
</script>
<script type="text/javascript" src="/js/lib.js"></script>
<script type="text/javascript" src="/js/main.js"></script>







</body>
</html>
